/*
 In-Field Label jQuery Plugin
 http://fuelyourcoding.com/scripts/infield.html

 Copyright (c) 2009 Doug Neiner
 Dual licensed under the MIT and GPL licenses.
 Uses the same license as jQuery, see:
 http://docs.jquery.com/License

*/
(function(a){a.InFieldLabels=function(b,c,d){var e=this;e.$label=a(b);e.label=b;e.$field=a(c);e.field=c;e.$label.data("InFieldLabels",e);e.showing=true;e.init=function(){e.options=a.extend({},a.InFieldLabels.defaultOptions,d);e.$field.wrap('<span style="position: relative" />');e.$field.parent().prepend(e.$label);e.$label.css("position","absolute");e.$label.css("color",e.options.labelColor);e.$label.css("margin",e.options.labelMargin);e.$label.addClass(e.options.labelClass);setTimeout(function(){if(e.$field.val()!==""){e.$label.hide();e.showing=false}},50);e.$field.focus(function(){e.fadeOnFocus()}).blur(function(){e.checkForEmpty(true)}).bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}).bind("paste",function(a){e.setOpacity(0)}).change(function(a){e.checkForEmpty()}).bind("onPropertyChange",function(){e.checkForEmpty()}).bind("keyup.infieldlabel",function(){e.checkForEmpty()})};e.fadeOnFocus=function(){if(e.showing){e.setOpacity(e.options.fadeOpacity)}};e.setOpacity=function(a){e.$label.stop().animate({opacity:a},e.options.fadeDuration);e.showing=a>0};e.checkForEmpty=function(a){if(e.$field.val()===""){e.prepForShow();e.setOpacity(a?1:e.options.fadeOpacity)}else{e.setOpacity(0)}};e.prepForShow=function(a){if(!e.showing){e.$label.css({opacity:0}).show();e.$field.bind("keydown.infieldlabel",function(a){e.hideOnChange(a)})}};e.hideOnChange=function(a){if(a.keyCode===16||a.keyCode===9){return}if(e.showing){e.$label.hide();e.showing=false}e.$field.unbind("keydown.infieldlabel")};e.init()};a.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,labelColor:"#000",labelMargin:"8px 0 0 4px"};a.fn.inFieldLabels=function(b){return this.each(function(){var c=a(this).attr("for"),d;if(!c){return}d=a("input#"+c+"[type='text'],"+"input#"+c+"[type='search'],"+"input#"+c+"[type='tel'],"+"input#"+c+"[type='url'],"+"input#"+c+"[type='email'],"+"input#"+c+"[type='password'],"+"textarea#"+c);if(d.length===0){return}new a.InFieldLabels(this,d[0],b)})}})(jQuery)